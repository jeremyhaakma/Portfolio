import java.awt.*;
import javax.swing.JPanel;
import java.util.ArrayList;

public class EnergyGraph extends JPanel{
  private int xSqueeze = 3;
  private int ySquish = 6;
  private int yHeight = (Creature.MAXENERGY)*(ySquish);
  
  
  
  public EnergyGraph(){
    setPreferredSize(new Dimension((EvoApp.generations/xSqueeze)+150, yHeight+60));
  }
  
  
  
  public void paintComponent (Graphics g){
    
    
    
    
    g.setColor(new Color(240, 240, 255));
    g.fillRect(0, 0, EvoApp.generations/xSqueeze +150, yHeight+60);
    g.setColor(Color.black);
    int xAxis = 0;
    int prevY = 0;
    ArrayList<Integer> e = new ArrayList<Integer>(Environment.energyList);
    //axes lines
    g.drawLine(100, yHeight, EvoApp.generations/xSqueeze+100, yHeight);
    g.drawLine(100, yHeight, 100, 0);

    
    //y axis text
    for (Integer i= 0; i <= yHeight; i+= 10){
      Integer height = i/ySquish;
      g.drawString(i.toString(), 78, yHeight-i*ySquish);
    }
    
    
    //x axis text
    for (Integer i= 0; i <= EvoApp.generations; i+= 500){
      Integer length = i/xSqueeze;
      g.drawString(i.toString(), length+100, yHeight+20);
      g.drawLine(length+100, yHeight, length+100, yHeight+10);
    }
    g.drawString("Generations", (EvoApp.generations/(xSqueeze)/2)+80, yHeight+40);
    g.drawString("Average", 15, yHeight/2);
     g.drawString("Energy", 15, yHeight/2+15);
    
    //graph lines
    for(int y : e){
      if (xAxis%xSqueeze == 0){
        g.drawLine(xAxis/xSqueeze+100, (yHeight-prevY*ySquish), (xAxis/xSqueeze+101), (yHeight-y*ySquish));
        prevY = y;
      }
      xAxis++;
    }

      

    
  }
  
}//end class